import{au as g,N as A,av as F,T as N,L as E,aw as l,ax as P,P as y,ay as w,az as I,aA as R,aB as f,aC as x}from"./watchBlockNumber-BJARL2rR.js";import{b2 as h,ax as q,G as m,ay as p}from"./index-tQSIi359.js";function v(a){const{abi:n,data:s}=a,e=h(s,0,4),t=n.find(r=>r.type==="function"&&e===g(A(r)));if(!t)throw new F(e,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:t.name,args:"inputs"in t&&t.inputs&&t.inputs.length>0?N(t.inputs,h(s,4)):void 0}}const u="/docs/contract/encodeErrorResult";function b(a){const{abi:n,errorName:s,args:e}=a;let t=n[0];if(s){const c=E({abi:n,args:e,name:s});if(!c)throw new l(s,{docsPath:u});t=c}if(t.type!=="error")throw new l(void 0,{docsPath:u});const r=A(t),o=g(r);let i="0x";if(e&&e.length>0){if(!t.inputs)throw new P(t.name,{docsPath:u});i=y(t.inputs,e)}return q([o,i])}const d="/docs/contract/encodeFunctionResult";function G(a){const{abi:n,functionName:s,result:e}=a;let t=n[0];if(s){const o=E({abi:n,name:s});if(!o)throw new w(s,{docsPath:d});t=o}if(t.type!=="function")throw new w(void 0,{docsPath:d});if(!t.outputs)throw new I(t.name,{docsPath:d});const r=(()=>{if(t.outputs.length===0)return[];if(t.outputs.length===1)return[e];if(Array.isArray(e))return e;throw new R(e)})();return y(t.outputs,r)}const B="x-batch-gateway:true";async function C(a){const{data:n,ccipRequest:s}=a,{args:[e]}=v({abi:f,data:n}),t=[],r=[];return await Promise.all(e.map(async(o,i)=>{try{r[i]=o.urls.includes(B)?await C({data:o.data,ccipRequest:s}):await s(o),t[i]=!1}catch(c){t[i]=!0,r[i]=H(c)}})),G({abi:f,functionName:"query",result:[t,r]})}function H(a){return a.name==="HttpRequestError"&&a.status?b({abi:f,errorName:"HttpError",args:[a.status,a.shortMessage]}):b({abi:[x],errorName:"Error",args:["shortMessage"in a?a.shortMessage:a.message]})}function D(a,n){if(!m(a,{strict:!1}))throw new p({address:a});if(!m(n,{strict:!1}))throw new p({address:n});return a.toLowerCase()===n.toLowerCase()}export{C as a,v as d,D as i,B as l};
