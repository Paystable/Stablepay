import{c as Ze,r as t,j as e,C as M,b as J,d as Q,e as pe,a as V,B as U,g as Bs,P as Is,h as Xe,i as Rs,k as ls,l as ts,f as ns,X as cs,m as oe,R as Ts,D as Us}from"./index-CrMWBvJr.js";import{b as Ps,Q as Fs,C as Es,N as Ls}from"./navigation-COt7DwM4.js";import{A as H,a as q,C as Ke,T as os,b as ds,c as fe,d as be}from"./alert-brI6BLY4.js";import{B as xe,T as He}from"./badge-Dd1rA5Q5.js";import{u as Ms,I as X,a as he,d as Ee,L as z,C as te}from"./label-BQEq8q9X.js";import{I as ms,T as xs,F as qe,P as Ys,W as Ge}from"./wallet-connection-DchJWRXF.js";import{p as hs}from"./watchBlockNumber-DIG02Q_w.js";import{u as ge,a as Se,p as De,S as $s}from"./send-receive-usdc-fEcwnJHY.js";import{S as us,a as ps,b as fs,c as bs,d as gs,u as _s,m as Vs,j as Ws}from"./select-BoB5Iub_.js";import{C as js}from"./dialog-DeG7wrCF.js";import{R as Be}from"./refresh-cw-TBE5l55V.js";import{T as Je,G as Os}from"./target-rUU1-YAI.js";import{r as Ks,f as Hs,u as qs,a as Gs,s as zs,S as je,b as Ns}from"./send-D6tvqCv1.js";import{L as Ne}from"./lock-BegV7CTt.js";import{C as es}from"./calendar-JBJMVsQG.js";import{C as Js}from"./coins-DWiq2_O1.js";import{L as de}from"./loader-circle-BmjUgLMc.js";import{E as Fe}from"./external-link-CF9QXa0w.js";import{C as me}from"./circle-alert-B0sMazh7.js";import{W as vs}from"./wallet-C4y3FRFj.js";import{C as ze}from"./camera-DLZohmvS.js";import{B as Pe}from"./building-2-HawBRcSE.js";import{U as Qs}from"./user-BGPND5Xj.js";import{D as Zs}from"./dollar-sign-CJLLa6iZ.js";import"./sendRawTransaction-CKrb7GbG.js";function Xs(s,f={}){return{async queryFn({queryKey:i}){const o=f.abi;if(!o)throw new Error("abi is required");const{functionName:n,scopeKey:h,...j}=i[1],k=(()=>{const m=i[1];if(m.address)return{address:m.address};if(m.code)return{code:m.code};throw new Error("address or code is required")})();if(!n)throw new Error("functionName is required");return Ks(s,{abi:o,functionName:n,args:j.args,...k,...j})},queryKey:ea(f)}}function ea(s={}){const{abi:f,...i}=s;return["readContract",Hs(i)]}function Ue(s={}){const{abi:f,address:i,functionName:o,query:n={}}=s,h=s.code,j=Ms(s),k=qs({config:j}),m=Xs(j,{...s,chainId:s.chainId??k}),F=!!((i||h)&&f&&o&&(n.enabled??!0));return Gs({...n,...m,enabled:F,structuralSharing:n.structuralSharing??zs})}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ze("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ae=hs(["function deposit(uint256 amount, uint256 lockMonths) external","function depositWithLockPeriod(uint256 assets, address receiver, uint256 lockPeriodMonths) external returns (uint256)","function withdraw(uint256 assets, address receiver, address owner) external returns (uint256)","function claimYield() external returns (uint256)","function getDepositBalance(address user) external view returns (uint256)","function getUserDeposit(address user) external view returns (uint256 amount, uint256 lockUntil, uint256 yieldEarned)","function getUserDeposits(address user) external view returns ((uint256 amount, uint256 timestamp, uint256 lockMonths, uint256 yieldEarned)[])","function getYieldAvailable(address user) external view returns (uint256)","function getLatestDeposit(address user) external view returns (uint256,uint256,uint256,uint256,bool)","function checkDepositReadiness(address user, uint256 amount) external view returns (bool,uint256,uint256,bool,bool,string)","function getTotalVaultBalance() external view returns (uint256)","function totalAssets() external view returns (uint256)","function totalSupply() external view returns (uint256)","function balanceOf(address account) external view returns (uint256)","function getAPYForLockPeriod(uint256 lockPeriodMonths) external view returns (uint256)","function getVaultStats() external view returns (uint256,uint256,uint256,uint256,uint256)","function checkAllowance(address user, uint256 amount) external view returns (bool,uint256)","function calculateYield(address user) external view returns (uint256)","event USDCDeposited(address indexed user, uint256 amount, uint256 lockMonths, uint256 timestamp)","event Deposit(address indexed caller, address indexed owner, uint256 assets, uint256 shares, uint256 lockUntil)","event DepositWithLock(address indexed caller, address indexed owner, uint256 assets, uint256 shares, uint256 lockUntil, uint256 lockPeriodMonths, uint256 apy)","event Withdraw(address indexed caller, address indexed receiver, address indexed owner, uint256 assets, uint256 shares)","event YieldClaimed(address indexed user, uint256 amount)"]),na=hs(["function transfer(address to, uint256 amount) external returns (bool)","function approve(address spender, uint256 amount) external returns (bool)","function allowance(address owner, address spender) external view returns (uint256)","function balanceOf(address account) external view returns (uint256)","function decimals() external view returns (uint8)","function symbol() external view returns (string)","function name() external view returns (string)","function transferFrom(address from, address to, uint256 amount) external returns (bool)"]),ae={USDC:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",VAULT:"0x4bc7a35d6e09d102087ed84445137f04540a8790",STABLE_PAY_VAULT:"0x4bc7a35d6e09d102087ed84445137f04540a8790"};function ra({embedded:s=!1}){var G;const[f,i]=t.useState(1e3),[o,n]=t.useState("USD"),[h,j]=t.useState({}),[k,m]=t.useState(!0),[F,r]=t.useState(null),w={USD:{name:"US Dollar",symbol:"$",flag:"ðŸ‡ºðŸ‡¸",baseRate:83.5},EUR:{name:"Euro",symbol:"â‚¬",flag:"ðŸ‡ªðŸ‡º",baseRate:90.8},GBP:{name:"British Pound",symbol:"Â£",flag:"ðŸ‡¬ðŸ‡§",baseRate:105.6},CAD:{name:"Canadian Dollar",symbol:"C$",flag:"ðŸ‡¨ðŸ‡¦",baseRate:61.25},AUD:{name:"Australian Dollar",symbol:"A$",flag:"ðŸ‡¦ðŸ‡º",baseRate:52.4},SGD:{name:"Singapore Dollar",symbol:"S$",flag:"ðŸ‡¸ðŸ‡¬",baseRate:61.8},AED:{name:"UAE Dirham",symbol:"Ø¯.Ø¥",flag:"ðŸ‡¦ðŸ‡ª",baseRate:22.75},SAR:{name:"Saudi Riyal",symbol:"ï·¼",flag:"ðŸ‡¸ðŸ‡¦",baseRate:22.25},CHF:{name:"Swiss Franc",symbol:"CHF",flag:"ðŸ‡¨ðŸ‡­",baseRate:92.15},JPY:{name:"Japanese Yen",symbol:"Â¥",flag:"ðŸ‡¯ðŸ‡µ",baseRate:.55},HKD:{name:"Hong Kong Dollar",symbol:"HK$",flag:"ðŸ‡­ðŸ‡°",baseRate:10.75},CNY:{name:"Chinese Yuan",symbol:"Â¥",flag:"ðŸ‡¨ðŸ‡³",baseRate:11.48},KWD:{name:"Kuwaiti Dinar",symbol:"Ø¯.Ùƒ",flag:"ðŸ‡°ðŸ‡¼",baseRate:271.5},QAR:{name:"Qatari Riyal",symbol:"ï·¼",flag:"ðŸ‡¶ðŸ‡¦",baseRate:22.95},OMR:{name:"Omani Rial",symbol:"ï·¼",flag:"ðŸ‡´ðŸ‡²",baseRate:217.2},BHD:{name:"Bahraini Dinar",symbol:".Ø¯.Ø¨",flag:"ðŸ‡§ðŸ‡­",baseRate:221.6},MYR:{name:"Malaysian Ringgit",symbol:"RM",flag:"ðŸ‡²ðŸ‡¾",baseRate:18.75},THB:{name:"Thai Baht",symbol:"à¸¿",flag:"ðŸ‡¹ðŸ‡­",baseRate:2.35},IDR:{name:"Indonesian Rupiah",symbol:"Rp",flag:"ðŸ‡®ðŸ‡©",baseRate:.0055},PHP:{name:"Philippine Peso",symbol:"â‚±",flag:"ðŸ‡µðŸ‡­",baseRate:1.47},VND:{name:"Vietnamese Dong",symbol:"â‚«",flag:"ðŸ‡»ðŸ‡³",baseRate:.0034},KRW:{name:"South Korean Won",symbol:"â‚©",flag:"ðŸ‡°ðŸ‡·",baseRate:.062},TWD:{name:"Taiwan Dollar",symbol:"NT$",flag:"ðŸ‡¹ðŸ‡¼",baseRate:2.58},NZD:{name:"New Zealand Dollar",symbol:"NZ$",flag:"ðŸ‡³ðŸ‡¿",baseRate:48.65},ZAR:{name:"South African Rand",symbol:"R",flag:"ðŸ‡¿ðŸ‡¦",baseRate:4.55},EGP:{name:"Egyptian Pound",symbol:"Â£",flag:"ðŸ‡ªðŸ‡¬",baseRate:1.68},NGN:{name:"Nigerian Naira",symbol:"â‚¦",flag:"ðŸ‡³ðŸ‡¬",baseRate:.054},KES:{name:"Kenyan Shilling",symbol:"KSh",flag:"ðŸ‡°ðŸ‡ª",baseRate:.65},GHS:{name:"Ghanaian Cedi",symbol:"â‚µ",flag:"ðŸ‡¬ðŸ‡­",baseRate:5.45}},b=async()=>{try{m(!0);const I=[{name:"ExchangeRate-API",url:`https://api.exchangerate-api.com/v4/latest/${o}`,parser:C=>C.rates}];let E=null,u="";for(const C of I)try{const ee=await fetch(C.url);if(!ee.ok)continue;const se=await ee.json(),O=C.parser(se);if(O&&O.INR){E=O,u=C.name;break}}catch(ee){console.warn(`${C.name} API failed:`,ee);continue}if(E)j(E),r(new Date),console.log(`Exchange rates updated via ${u}`);else throw new Error("All exchange rate APIs failed")}catch(I){console.error("Failed to fetch exchange rates from all providers:",I);const E={},u=w[o];if(u){const C=(Math.random()-.5)*.5;E.INR=u.baseRate*(1+C/100)}j(E),r(new Date),console.log("Using fallback exchange rates")}finally{m(!1)}};t.useEffect(()=>{b()},[o]),t.useEffect(()=>{const I=setInterval(b,3e5);return()=>clearInterval(I)},[o]);const v=h.INR||((G=w[o])==null?void 0:G.baseRate)||83.5,g=w[o],d=f*0/100,D=f-d,y=D*v,$={"North America":["USD","CAD"],Europe:["EUR","GBP","CHF"],"Middle East":["AED","SAR","KWD","QAR","OMR","BHD"],"Asia Pacific":["SGD","JPY","HKD","AUD","CNY","MYR","THB","IDR","PHP","VND","KRW","TWD","NZD"],Africa:["ZAR","EGP","NGN","KES","GHS"]};return e.jsx("div",{className:s?"w-full":"max-w-4xl mx-auto",children:e.jsxs("div",{className:`grid grid-cols-1 ${s?"lg:grid-cols-2":"md:grid-cols-2"} gap-6`,children:[e.jsxs(M,{className:"bg-white border border-[#6667AB]/20",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#6667AB] rounded-full flex items-center justify-center",children:e.jsx(js,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(Q,{className:"text-lg text-black",children:"Exchange Calculator"}),e.jsx(pe,{className:"text-[#6667AB]",children:"Live rates â€¢ Zero margin"})]})]}),k?e.jsxs(xe,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Be,{className:"w-3 h-3 mr-1 animate-spin"}),"Updating"]}):e.jsx(xe,{className:"bg-green-100 text-green-800",children:"Live"})]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-black mb-2",children:"From Currency"}),e.jsxs(us,{value:o,onValueChange:n,children:[e.jsx(ps,{className:"border border-[#6667AB]/30 focus:border-[#6667AB]",children:e.jsx(fs,{})}),e.jsx(bs,{className:"bg-white border border-[#6667AB]/30 max-h-64",children:Object.entries($).map(([I,E])=>e.jsxs("div",{children:[e.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-[#6667AB] bg-[#6667AB]/5",children:I}),E.map(u=>{const C=w[u];return e.jsx(gs,{value:u,className:"hover:bg-[#6667AB]/10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:C.flag}),e.jsx("span",{className:"font-medium",children:u}),e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",C.name]})]})},u)})]},I))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-black mb-2",children:["Amount (",o,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#6667AB] font-medium",children:g==null?void 0:g.symbol}),e.jsx(X,{type:"number",value:f,onChange:I=>i(Number(I.target.value)),className:"pl-8 border border-[#6667AB]/30 focus:border-[#6667AB]",placeholder:"1000"})]})]}),e.jsxs("div",{className:"bg-[#6667AB]/5 p-4 rounded-lg border border-[#6667AB]/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-[#6667AB]"}),e.jsx("span",{className:"text-sm font-medium text-black",children:"Live Exchange Rate"})]}),e.jsx(U,{onClick:b,size:"sm",variant:"outline",className:"h-7 border-[#6667AB]/30 text-[#6667AB] hover:bg-[#6667AB]/10",disabled:k,children:e.jsx(Be,{className:`w-3 h-3 ${k?"animate-spin":""}`})})]}),e.jsxs("div",{className:"text-lg font-bold text-[#6667AB]",children:["1 ",o," = â‚¹",v.toFixed(2)]}),e.jsx("div",{className:"text-xs text-[#6667AB]/80 mt-1",children:F&&`Updated: ${F.toLocaleTimeString()}`})]})]})]}),e.jsxs(M,{className:"bg-white border border-[#6667AB]/20",children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#6667AB] rounded-full flex items-center justify-center",children:e.jsx(je,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(Q,{className:"text-lg text-black",children:"Transfer Summary"}),e.jsx(pe,{className:"text-[#6667AB]",children:"What your recipient gets"})]})]})}),e.jsxs(V,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"You send"}),e.jsxs("span",{className:"font-medium text-black",children:[g==null?void 0:g.symbol,f.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-[#6667AB]",children:"Stable Pay Fee (0%)"}),e.jsx("span",{className:"font-semibold text-green-600",children:"FREE"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Net amount"}),e.jsxs("span",{className:"font-medium text-black",children:[g==null?void 0:g.symbol,D.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Exchange rate"}),e.jsxs("span",{className:"font-medium text-black",children:["â‚¹",v.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-black",children:"Recipient gets"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-[#6667AB]",children:["â‚¹",y.toLocaleString("en-IN",{maximumFractionDigits:0})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Indian Rupees"})]})]})})]}),e.jsxs("div",{className:"bg-[#6667AB]/5 p-4 rounded-lg border border-[#6667AB]/20",children:[e.jsx("h4",{className:"font-medium text-[#6667AB] mb-2",children:"StablePay Advantages:"}),e.jsxs("div",{className:"space-y-1 text-sm text-[#6667AB]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-3 h-3 text-[#6667AB]"}),e.jsx("span",{children:"Zero exchange rate margin"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"w-3 h-3 text-[#6667AB]"}),e.jsx("span",{children:"Live market rates updated every 5 minutes"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-3 h-3 text-[#6667AB]"}),e.jsx("span",{children:"Direct bank account transfers"})]})]})]})]})]})]})})}var Le="Checkbox",[ia,Va]=Bs(Le),[la,ss]=ia(Le);function ca(s){const{__scopeCheckbox:f,checked:i,children:o,defaultChecked:n,disabled:h,form:j,name:k,onCheckedChange:m,required:F,value:r="on",internal_do_not_use_render:w}=s,[b,v]=Rs({prop:i,defaultProp:n??!1,onChange:m,caller:Le}),[g,Y]=t.useState(null),[d,D]=t.useState(null),y=t.useRef(!1),$=g?!!j||!!g.closest("form"):!0,G={checked:b,disabled:h,setChecked:v,control:g,setControl:Y,name:k,form:j,value:r,hasConsumerStoppedPropagationRef:y,required:F,defaultChecked:re(n)?!1:n,isFormControl:$,bubbleInput:d,setBubbleInput:D};return e.jsx(la,{scope:f,...G,children:oa(w)?w(G):o})}var ws="CheckboxTrigger",ys=t.forwardRef(({__scopeCheckbox:s,onKeyDown:f,onClick:i,...o},n)=>{const{control:h,value:j,disabled:k,checked:m,required:F,setControl:r,setChecked:w,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:g}=ss(ws,s),Y=ls(n,r),d=t.useRef(m);return t.useEffect(()=>{const D=h==null?void 0:h.form;if(D){const y=()=>w(d.current);return D.addEventListener("reset",y),()=>D.removeEventListener("reset",y)}},[h,w]),e.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":re(m)?"mixed":m,"aria-required":F,"data-state":Ds(m),"data-disabled":k?"":void 0,disabled:k,value:j,...o,ref:Y,onKeyDown:ts(f,D=>{D.key==="Enter"&&D.preventDefault()}),onClick:ts(i,D=>{w(y=>re(y)?!0:!y),g&&v&&(b.current=D.isPropagationStopped(),b.current||D.stopPropagation())})})});ys.displayName=ws;var as=t.forwardRef((s,f)=>{const{__scopeCheckbox:i,name:o,checked:n,defaultChecked:h,required:j,disabled:k,value:m,onCheckedChange:F,form:r,...w}=s;return e.jsx(ca,{__scopeCheckbox:i,checked:n,defaultChecked:h,disabled:k,required:j,onCheckedChange:F,name:o,form:r,value:m,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(ys,{...w,ref:f,__scopeCheckbox:i}),b&&e.jsx(Ss,{__scopeCheckbox:i})]})})});as.displayName=Le;var ks="CheckboxIndicator",As=t.forwardRef((s,f)=>{const{__scopeCheckbox:i,forceMount:o,...n}=s,h=ss(ks,i);return e.jsx(Is,{present:o||re(h.checked)||h.checked===!0,children:e.jsx(Xe.span,{"data-state":Ds(h.checked),"data-disabled":h.disabled?"":void 0,...n,ref:f,style:{pointerEvents:"none",...s.style}})})});As.displayName=ks;var Cs="CheckboxBubbleInput",Ss=t.forwardRef(({__scopeCheckbox:s,...f},i)=>{const{control:o,hasConsumerStoppedPropagationRef:n,checked:h,defaultChecked:j,required:k,disabled:m,name:F,value:r,form:w,bubbleInput:b,setBubbleInput:v}=ss(Cs,s),g=ls(i,v),Y=_s(h),d=Vs(o);t.useEffect(()=>{const y=b;if(!y)return;const $=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor($,"checked").set,E=!n.current;if(Y!==h&&I){const u=new Event("click",{bubbles:E});y.indeterminate=re(h),I.call(y,re(h)?!1:h),y.dispatchEvent(u)}},[b,Y,h,n]);const D=t.useRef(re(h)?!1:h);return e.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:j??D.current,required:k,disabled:m,name:F,value:r,form:w,...f,tabIndex:-1,ref:g,style:{...f.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ss.displayName=Cs;function oa(s){return typeof s=="function"}function re(s){return s==="indeterminate"}function Ds(s){return re(s)?"indeterminate":s?"checked":"unchecked"}const Qe=t.forwardRef(({className:s,...f},i)=>e.jsx(as,{ref:i,className:ns("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...f,children:e.jsx(As,{className:ns("flex items-center justify-center text-current"),children:e.jsx(Ws,{className:"h-4 w-4"})})}));Qe.displayName=as.displayName;function da({isOpen:s,onAccept:f,onDecline:i,lockPeriod:o,apy:n,depositAmount:h}){const[j,k]=t.useState(!1),[m,F]=t.useState(!1);if(!s)return null;const r=()=>{if(o==="0")return"Anytime (Flexible)";const v=parseInt(o),g=new Date;return g.setMonth(g.getMonth()+v),g.toLocaleDateString()},w=()=>!h||o==="0"?"0.00":(parseFloat(h)*n/100*(parseInt(o)/12)).toFixed(2),b=j&&m;return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs(M,{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto brand-card",children:[e.jsx(J,{className:"pb-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"w-6 h-6 text-[#6667AB]"}),e.jsx(Q,{className:"text-2xl font-bold text-black",children:"Yield Lock-In Terms & Conditions"})]}),e.jsx(U,{variant:"ghost",size:"sm",onClick:i,className:"text-gray-500 hover:text-gray-700",children:e.jsx(cs,{className:"w-5 h-5"})})]})}),e.jsxs(V,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#6667AB]/5 border-2 border-[#6667AB]/20 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-semibold text-black mb-3 flex items-center",children:[e.jsx(ms,{className:"w-5 h-5 mr-2 text-[#6667AB]"}),"Your Deposit Summary"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6667AB] font-medium",children:"Amount:"}),e.jsxs("p",{className:"font-bold text-black",children:["$",h," USDC"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6667AB] font-medium",children:"Lock Period:"}),e.jsx("p",{className:"font-bold text-black",children:o==="0"?"Flexible":`${o} Months`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6667AB] font-medium",children:"APY:"}),e.jsxs("p",{className:"font-bold text-green-600",children:[n,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#6667AB] font-medium",children:"Est. Earnings:"}),e.jsxs("p",{className:"font-bold text-green-600",children:["$",w()," USDC"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-black text-lg flex items-center",children:[e.jsx(he,{className:"w-5 h-5 mr-2 text-[#6667AB]"}),"Key Terms & Conditions"]}),e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"border-l-4 border-[#6667AB] pl-4",children:[e.jsx("h4",{className:"font-semibold text-black mb-2",children:"1. Lock-In Period"}),e.jsxs("p",{className:"text-gray-700",children:["Your deposit will be locked until ",e.jsx("strong",{children:r()}),".",o!=="0"?" Early withdrawal is not permitted during this period.":" You can withdraw anytime with flexible terms."]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h4",{className:"font-semibold text-black mb-2",children:"2. Yield Calculation"}),e.jsxs("p",{className:"text-gray-700",children:["Your yield is calculated at ",e.jsxs("strong",{children:[n,"% APY"]})," and will be distributed based on your lock period. The total estimated earnings of ",e.jsxs("strong",{children:["$",w()," USDC"]})," assumes the full lock period is completed."]})]}),e.jsxs("div",{className:"border-l-4 border-amber-500 pl-4",children:[e.jsx("h4",{className:"font-semibold text-black mb-2",children:"3. Risk Disclosure"}),e.jsxs("p",{className:"text-gray-700",children:["â€¢ Cryptocurrency investments carry inherent risks including market volatility",e.jsx("br",{}),"â€¢ Past performance does not guarantee future results",e.jsx("br",{}),"â€¢ USDC value may fluctuate against fiat currencies",e.jsx("br",{}),"â€¢ Smart contract risks and technical failures are possible"]})]}),e.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[e.jsx("h4",{className:"font-semibold text-black mb-2",children:"4. Early Withdrawal Policy"}),e.jsx("p",{className:"text-gray-700",children:o!=="0"?e.jsxs(e.Fragment,{children:["Early withdrawal before unlock date is ",e.jsx("strong",{children:"not permitted"}),". Your funds will remain locked until the specified unlock date."]}):e.jsx(e.Fragment,{children:"With flexible terms, you can withdraw your principal at any time. However, yield calculations are prorated based on the time held."})})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h4",{className:"font-semibold text-black mb-2",children:"5. Platform Terms"}),e.jsxs("p",{className:"text-gray-700",children:["â€¢ StablePay operates as a DeFi yield farming platform",e.jsx("br",{}),"â€¢ All transactions are recorded on the blockchain",e.jsx("br",{}),"â€¢ Gas fees are the responsibility of the user",e.jsx("br",{}),"â€¢ Platform may update terms with advance notice"]})]})]})]}),e.jsxs(H,{className:"border-amber-200 bg-amber-50",children:[e.jsx(xs,{className:"h-4 w-4 text-amber-600"}),e.jsxs(q,{className:"text-amber-800",children:[e.jsx("strong",{children:"Important:"})," This is a decentralized finance (DeFi) product. Please ensure you understand the risks before proceeding. Only invest what you can afford to lose."]})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Qe,{id:"read-terms",checked:j,onCheckedChange:v=>k(v===!0)}),e.jsxs("label",{htmlFor:"read-terms",className:"text-sm text-gray-700 leading-relaxed cursor-pointer",children:["I have read and understood all the terms and conditions above, including the lock-in period of ",e.jsx("strong",{children:o==="0"?"flexible withdrawal":`${o} months`}),"and the associated yield calculation."]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Qe,{id:"acknowledge-risks",checked:m,onCheckedChange:v=>F(v===!0)}),e.jsxs("label",{htmlFor:"acknowledge-risks",className:"text-sm text-gray-700 leading-relaxed cursor-pointer",children:["I acknowledge the risks associated with DeFi investments and understand that my deposit of ",e.jsxs("strong",{children:["$",h," USDC"]})," is subject to market risks, smart contract risks, and potential loss of principal."]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t",children:[e.jsx(U,{variant:"outline",onClick:i,className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel Deposit"}),e.jsx(U,{onClick:f,disabled:!b,className:"flex-1 bg-[#6667AB] hover:bg-[#6667AB]/90 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Accept Terms & Proceed with Deposit"})]})]})]})})}function ma({lockPeriod:s,apy:f,depositAmount:i,onDismiss:o,showAlways:n=!1}){const[h,j]=t.useState(!0),[k,m]=t.useState("info");t.useEffect(()=>{s==="0"?m("info"):parseInt(s)>=6?m("warning"):m("success")},[s]);const F=()=>{j(!1),o&&o()},r=()=>{if(s==="0")return"anytime";const g=parseInt(s),Y=new Date;return Y.setMonth(Y.getMonth()+g),Y.toLocaleDateString()},w=()=>!i||s==="0"?"0.00":(parseFloat(i)*f/100*(parseInt(s)/12)).toFixed(2),b=()=>{switch(k){case"warning":return{className:"border-amber-200 bg-amber-50",icon:e.jsx(xs,{className:"h-4 w-4 text-amber-600"}),textColor:"text-amber-800",title:"âš ï¸ Extended Lock-In Period",message:`Your deposit will be locked for ${s} months until ${r()}. Early withdrawal is not possible.`};case"success":return{className:"border-green-200 bg-green-50",icon:e.jsx(Ne,{className:"h-4 w-4 text-green-600"}),textColor:"text-green-800",title:"âœ… Yield Lock-In Active",message:`Your ${i} USDC deposit is locked for ${s} months, earning ${f}% APY.`};default:return{className:"border-blue-200 bg-blue-50",icon:e.jsx(ms,{className:"h-4 w-4 text-blue-600"}),textColor:"text-blue-800",title:"ðŸ’¡ Flexible Deposit Terms",message:`Your ${i} USDC deposit has flexible terms. You can withdraw anytime.`}}};if(!h&&!n)return null;const v=b();return e.jsx("div",{className:"mb-4",children:e.jsxs(H,{className:v.className,children:[v.icon,e.jsx(q,{className:`${v.textColor} space-y-2`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold mb-1",children:v.title}),e.jsx("div",{className:"text-sm mb-2",children:v.message}),s!=="0"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs bg-white/50 rounded-lg p-3 mt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Unlock Date:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(es,{className:"w-3 h-3 mr-1"}),r()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Expected Earnings:"}),e.jsxs("div",{className:"font-bold text-green-600 mt-1",children:["+$",w()," USDC"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"APY:"}),e.jsxs("div",{className:"font-bold mt-1",children:[f,"%"]})]})]}),s!=="0"&&e.jsx("div",{className:"text-xs mt-2 font-medium",children:"ðŸ“ Remember: Early withdrawal is not permitted during the lock period."})]}),!n&&e.jsx(U,{variant:"ghost",size:"sm",onClick:F,className:"h-6 w-6 p-0 text-gray-500 hover:text-gray-700 ml-2",children:e.jsx(cs,{className:"w-4 h-4"})})]})})]})})}const rs="0x4bc7a35d6e09d102087ed84445137f04540a8790",is="0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",Ce=[{value:"0",label:"No Lock (Flexible)",apy:7},{value:"1",label:"1 Month",apy:8},{value:"2",label:"2 Months",apy:8.5},{value:"3",label:"3 Months",apy:9},{value:"4",label:"4 Months",apy:9.5},{value:"5",label:"5 Months",apy:10},{value:"6",label:"6 Months",apy:10.5},{value:"7",label:"7 Months",apy:11},{value:"8",label:"8 Months",apy:11.5},{value:"9",label:"9 Months",apy:12},{value:"10",label:"10 Months",apy:12.5},{value:"11",label:"11 Months",apy:13},{value:"12",label:"12 Months",apy:14}],xa=[{name:"transfer",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function ha(){var ye,ue;const{address:s,isConnected:f}=Ee(),[i,o]=t.useState(""),[n,h]=t.useState("6"),[j,k]=t.useState(!1),[m,F]=t.useState([]),[r,w]=t.useState(0),[b,v]=t.useState(!1),[g,Y]=t.useState(!1),[d,D]=t.useState(!1),{data:y,refetch:$}=Ns({address:s,token:is}),{writeContract:G,isPending:I,data:E}=ge(),{isLoading:u,isSuccess:C,isError:ee}=Se({hash:E});t.useEffect(()=>{if(s){const c=localStorage.getItem(`stablepay_deposits_${s}`);if(c){const S=JSON.parse(c).map(x=>({...x,depositTime:new Date(x.depositTime),unlockTime:new Date(x.unlockTime)}));F(S),w(S.reduce((x,R)=>x+R.amount,0))}}},[s]),t.useEffect(()=>{if(C&&E){const c={amount:parseFloat(i),lockMonths:parseInt(n),depositTime:new Date,unlockTime:new Date(Date.now()+parseInt(n)*30*24*60*60*1e3),transactionHash:E},S=[...m,c];F(S),w(x=>x+c.amount),s&&localStorage.setItem(`stablepay_deposits_${s}`,JSON.stringify(S)),o(""),h("6"),$()}},[C,E,i,n,m,s,$]);const se=c=>c?Number(oe(c.value,6)).toFixed(2):"0.00",O=()=>{const c=Ce.find(S=>S.value===n);return c?c.apy:12},Ie=()=>{if(!n||n==="0")return"Anytime (Flexible)";const c=parseInt(n),S=new Date;return S.setMonth(S.getMonth()+c),S.toLocaleDateString()},ie=()=>{if(!i||!n)return[];const c=parseFloat(i),S=O(),x=c*S/100/12,R=[];for(let N=1;N<=parseInt(n||"1");N++){const L=new Date;L.setMonth(L.getMonth()+N),R.push({month:N,date:L.toLocaleDateString(),amount:x.toFixed(2)})}return R.slice(0,6)},le=async()=>{var c,S,x,R;if(!(!i||!s)){if(!d){v(!0);return}try{const N=De(i,6);if(console.log("=== Sending USDC to StablePay Vault ==="),console.log("Vault Address:",rs),console.log("Amount:",i,"USDC"),console.log("Lock Period:",n,"months"),N<=BigInt(0)){alert("Please enter a valid amount greater than 0.");return}if(y&&N>y.value){alert("Insufficient USDC balance for this transfer.");return}G({address:is,abi:xa,functionName:"transfer",args:[rs,N],gas:BigInt(3e5)})}catch(N){console.error("Send to vault failed:",N),(c=N==null?void 0:N.message)!=null&&c.includes("User rejected")||(S=N==null?void 0:N.message)!=null&&S.includes("rejected")?alert("Transaction was cancelled by user."):(x=N==null?void 0:N.message)!=null&&x.includes("insufficient funds")||(R=N==null?void 0:N.message)!=null&&R.includes("insufficient balance")?alert("Insufficient USDC balance for this transfer."):alert(`Transfer failed: ${(N==null?void 0:N.message)||"Unknown error"}`)}}},ve=()=>{D(!0),v(!1),Y(!0),setTimeout(()=>{le()},100)},we=()=>{v(!1),D(!1)},ne=()=>m.length>0?m[0]:null;return f?e.jsx("section",{className:"py-16 brand-bg",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r>0&&e.jsx("div",{className:"brand-card rounded-3xl p-8 mb-8 shadow-xl",children:e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-black mb-2 no-blur",children:"Your StablePay Balance"}),e.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-4 no-blur",children:["$",r.toFixed(2)," USDC"]}),ne()&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ne,{className:"w-6 h-6 brand-text mx-auto mb-2"}),e.jsx("div",{className:"text-sm brand-text font-semibold no-blur",children:"Latest Lock Period"}),e.jsx("div",{className:"text-lg font-bold text-black no-blur",children:ne().lockMonths===0?"Flexible":`${ne().lockMonths} Months`})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(es,{className:"w-6 h-6 brand-text mx-auto mb-2"}),e.jsx("div",{className:"text-sm brand-text font-semibold no-blur",children:"Latest Unlock Date"}),e.jsx("div",{className:"text-lg font-bold text-black no-blur",children:ne().lockMonths===0?"Anytime":ne().unlockTime.toLocaleDateString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Js,{className:"w-6 h-6 brand-text mx-auto mb-2"}),e.jsx("div",{className:"text-sm brand-text font-semibold no-blur",children:"Total Deposits"}),e.jsxs("div",{className:"text-lg font-bold text-green-600 no-blur",children:[m.length," Transaction",m.length!==1?"s":""]})]})]}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>$(),className:"mt-4 border-[#6667AB] text-[#6667AB] hover:bg-[#6667AB]/10",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Refresh Balance"]})]})}),e.jsx(M,{className:"brand-card rounded-3xl shadow-xl border-2 border-[#6667AB]/20",children:e.jsxs(V,{className:"p-6 lg:p-8 space-y-6",children:[e.jsx("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm brand-text font-semibold no-blur",children:"Available USDC:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-black no-blur",children:se(y)}),e.jsx(U,{variant:"ghost",size:"sm",onClick:()=>$(),className:"h-6 w-6 p-0 text-[#6667AB] hover:text-[#6667AB]/80",children:e.jsx(Be,{className:"w-3 h-3"})})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(z,{className:"text-black font-semibold",children:"Amount to Deposit (USDC)"}),e.jsx(X,{type:"number",value:i,onChange:c=>o(c.target.value),placeholder:"Enter amount to deposit",className:"h-14 text-lg rounded-xl border-2 border-[#6667AB]/30 focus:border-[#6667AB]",max:se(y)}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"brand-text no-blur",children:"Minimum: 1 USDC"}),e.jsx(U,{variant:"ghost",size:"sm",onClick:()=>o(se(y)),className:"text-[#6667AB] hover:text-[#6667AB]/80 h-auto p-1 text-xs",disabled:!y||Number(se(y))===0,children:"Max"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(z,{className:"text-black font-semibold",children:"Lock Period (for yield calculation)"}),e.jsxs(us,{value:n,onValueChange:h,children:[e.jsx(ps,{className:"h-14 rounded-xl border-2 border-[#6667AB]/30 focus:border-[#6667AB] bg-white hover:bg-gray-50 transition-colors",children:e.jsx(fs,{className:"text-left",children:n&&e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("span",{className:"text-black font-medium",children:(ye=Ce.find(c=>c.value===n))==null?void 0:ye.label}),e.jsxs("span",{className:"text-green-600 font-semibold text-sm",children:[(ue=Ce.find(c=>c.value===n))==null?void 0:ue.apy,"% APY"]})]})})}),e.jsx(bs,{className:"bg-white border-2 border-[#6667AB]/20 rounded-xl shadow-lg max-h-80 overflow-y-auto",children:Ce.map(c=>e.jsx(gs,{value:c.value,className:"cursor-pointer hover:bg-[#6667AB]/10 focus:bg-[#6667AB]/10 rounded-lg mx-1 my-1 p-3 border-none data-[highlighted]:bg-[#6667AB]/10",children:e.jsxs("div",{className:"flex justify-between items-center w-full min-w-0",children:[e.jsxs("div",{className:"flex flex-col items-start min-w-0 flex-1",children:[e.jsx("span",{className:"text-black font-medium text-sm",children:c.label}),c.value==="0"&&e.jsx("span",{className:"text-[#6667AB] text-xs",children:"Withdraw anytime"})]}),e.jsxs("div",{className:"flex flex-col items-end ml-4",children:[e.jsxs("span",{className:"text-green-600 font-bold text-sm",children:[c.apy,"% APY"]}),e.jsx("span",{className:"text-xs text-[#6667AB]",children:c.value==="0"?"Anytime":new Date(Date.now()+parseInt(c.value)*30*24*60*60*1e3).toLocaleDateString()})]})]})},c.value))})]})]}),i&&n&&(g||n!=="0")&&e.jsx(ma,{lockPeriod:n,apy:O(),depositAmount:i,onDismiss:()=>Y(!1),showAlways:n!=="0"}),i&&e.jsxs("div",{className:"bg-[#6667AB]/5 border-2 border-[#6667AB]/20 rounded-2xl p-6 space-y-4",children:[e.jsxs("h4",{className:"font-bold text-black text-lg no-blur flex items-center",children:[e.jsx(te,{className:"w-5 h-5 text-[#6667AB] mr-2"}),"Deposit Preview"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[#6667AB] font-medium no-blur",children:"Deposit Amount:"}),e.jsxs("div",{className:"font-bold text-black text-lg no-blur",children:["$",i," USDC"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[#6667AB] font-medium no-blur",children:"Lock Period:"}),e.jsx("div",{className:"font-bold text-black text-lg no-blur",children:n==="0"?"Flexible":`${n} Months`})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[#6667AB] font-medium no-blur",children:"Expected APY:"}),e.jsxs("div",{className:"font-bold text-green-600 text-lg no-blur",children:[O(),"%"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[#6667AB] font-medium no-blur",children:"Unlock Date:"}),e.jsx("div",{className:"font-bold text-black text-lg no-blur",children:Ie()})]})]}),n!=="0"&&e.jsx("div",{className:"mt-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-green-700 font-medium text-sm no-blur",children:"Total Interest Earned:"}),e.jsxs("div",{className:"font-bold text-green-600 text-xl no-blur",children:["$",(parseFloat(i)*O()/100*(parseInt(n)/12)).toFixed(2)," USDC"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-green-700 font-medium text-sm no-blur",children:"Final Amount:"}),e.jsxs("div",{className:"font-bold text-black text-xl no-blur",children:["$",(parseFloat(i)+parseFloat(i)*O()/100*(parseInt(n)/12)).toFixed(2)," USDC"]})]})]})}),n!=="0"&&ie().length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-semibold text-black mb-2 no-blur",children:"Estimated Monthly Payouts:"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs",children:ie().map((c,S)=>e.jsxs("div",{className:"bg-white rounded-lg p-2 border",children:[e.jsxs("div",{className:"brand-text no-blur",children:["Month ",c.month]}),e.jsxs("div",{className:"font-semibold text-green-600 no-blur",children:["+$",c.amount]}),e.jsx("div",{className:"text-[10px] brand-text no-blur",children:c.date})]},S))})]})]}),e.jsxs(U,{onClick:le,disabled:!i||parseFloat(i)<=0||parseFloat(i)>Number(se(y))||I||u,className:"w-full bg-[#6667AB] hover:bg-[#6667AB]/90 text-white h-14 text-lg font-semibold rounded-xl",children:[I||u?e.jsx(de,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(je,{className:"w-5 h-5 mr-2"}),I?"Confirming...":u?"Processing...":"Deposit USDC"]}),C&&E&&e.jsxs(H,{className:"border-green-200 bg-green-50",children:[e.jsx(te,{className:"h-4 w-4 text-green-600"}),e.jsxs(q,{className:"text-green-800 space-y-2",children:[e.jsx("div",{children:"âœ… USDC deposited successfully to StablePay vault! Your deposit has been recorded."}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>window.open(`https://basescan.org/tx/${E}`,"_blank"),className:"border-green-600 text-green-600 hover:bg-green-50",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"View on BaseScan"]})]})]}),ee&&e.jsxs(H,{className:"border-red-200 bg-red-50",children:[e.jsx(me,{className:"h-4 w-4 text-red-600"}),e.jsx(q,{className:"text-red-800",children:"âŒ Transaction failed. Please check your wallet and try again."})]}),(I||u)&&e.jsxs(H,{className:"border-blue-200 bg-blue-50",children:[e.jsx(de,{className:"h-4 w-4 text-blue-600 animate-spin"}),e.jsx(q,{className:"text-blue-800",children:I?"â³ Please confirm the transaction in your wallet...":"ðŸ”„ Transaction is being processed..."})]}),e.jsxs(H,{className:"border-amber-200 bg-amber-50",children:[e.jsx(me,{className:"h-4 w-4 text-amber-600"}),e.jsxs(q,{className:"text-amber-800",children:[e.jsx("strong",{children:"Important:"})," By depositing USDC to our vault address, you're investing in StablePay. Your deposit will be tracked and yield will be calculated based on your selected lock period. Only deposit USDC on Base network to this address."]})]})]})}),m.length>0&&e.jsxs(M,{className:"mt-8 brand-card rounded-3xl shadow-xl border-2 border-[#6667AB]/20",children:[e.jsx(J,{className:"p-6",children:e.jsx(Q,{className:"text-xl text-black no-blur",children:"Recent Deposits"})}),e.jsx(V,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:m.slice(0,5).map((c,S)=>{var x;return e.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#6667AB]/5 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-black no-blur",children:["$",c.amount.toFixed(2)," USDC"]}),e.jsxs("p",{className:"text-sm brand-text no-blur",children:[c.lockMonths===0?"Flexible":`${c.lockMonths} months lock`," â€¢",c.depositTime.toLocaleDateString()]}),c.transactionHash&&e.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:[c.transactionHash.slice(0,10),"...",c.transactionHash.slice(-8)]})]}),e.jsxs("div",{className:"text-right flex flex-col space-y-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-green-600 font-semibold no-blur",children:[((x=Ce.find(R=>R.value===c.lockMonths.toString()))==null?void 0:x.apy)||12,"% APY"]}),e.jsxs("p",{className:"text-xs brand-text no-blur",children:["Unlock: ",c.lockMonths===0?"Anytime":c.unlockTime.toLocaleDateString()]})]}),c.transactionHash&&e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>window.open(`https://basescan.org/tx/${c.transactionHash}`,"_blank"),className:"border-[#6667AB] text-[#6667AB] hover:bg-[#6667AB]/10 text-xs",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"BaseScan"]})]})]},S)})})})]}),e.jsx(da,{isOpen:b,onAccept:ve,onDecline:we,lockPeriod:n,apy:O(),depositAmount:i})]})}):e.jsx("section",{className:"py-16 brand-bg",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(he,{className:"w-16 h-16 brand-text mx-auto mb-6"}),e.jsx("h2",{className:"text-3xl font-bold text-black mb-4 no-blur",children:"Connect Your Wallet"}),e.jsx("p",{className:"text-lg brand-text no-blur",children:"Please connect your wallet to access deposit features."})]})})})}function ua(){const{address:s,isConnected:f}=Ee(),[i,o]=t.useState(!1),[n,h]=t.useState("");Ts.useEffect(()=>{s&&Ps.toDataURL(s,{width:200,margin:2,color:{dark:"#6667AB",light:"#FFFFFF"}}).then(m=>h(m)).catch(m=>console.error("QR Code generation failed:",m))},[s]);const j=async()=>{s&&(await navigator.clipboard.writeText(s),o(!0),setTimeout(()=>o(!1),2e3))},k=m=>`${m.slice(0,8)}...${m.slice(-6)}`;return!f||!s?null:e.jsxs(M,{className:"bg-white shadow-lg border border-[#6667AB]/20 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs(J,{className:"p-4 sm:p-6",children:[e.jsxs(Q,{className:"text-lg sm:text-xl text-black flex items-center",children:[e.jsx(Us,{className:"w-5 h-5 mr-2 text-[#6667AB]"}),"Receive USDC"]}),e.jsx("p",{className:"text-sm text-[#6667AB]",children:"Share your Base network address to receive USDC"})]}),e.jsxs(V,{className:"p-4 sm:p-6 pt-0 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-40 h-40 sm:w-48 sm:h-48 bg-white rounded-xl mx-auto mb-4 sm:mb-6 flex items-center justify-center border-2 border-[#6667AB]/20 p-3 sm:p-4",children:n?e.jsx("img",{src:n,alt:"QR Code for wallet address",className:"w-full h-full object-contain rounded-lg"}):e.jsx(Fs,{className:"w-16 h-16 sm:w-20 sm:h-20 text-[#6667AB]"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs sm:text-sm text-[#6667AB] font-medium",children:"Your Base Network Address"}),e.jsxs("div",{className:"bg-[#6667AB]/5 rounded-lg p-3 sm:p-4 border border-[#6667AB]/20",children:[e.jsx("p",{className:"font-mono text-xs sm:text-sm text-black mb-3 break-all leading-relaxed",children:s}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{onClick:j,className:"w-full bg-[#6667AB] hover:bg-[#6667AB]/90 text-white text-sm font-medium h-10 sm:h-12",children:i?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Es,{className:"w-4 h-4 mr-2"}),"Copy Address"]})}),e.jsx("div",{className:"sm:hidden",children:e.jsxs("p",{className:"text-xs text-[#6667AB] font-medium",children:["Short: ",k(s)]})})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(xe,{className:"bg-[#6667AB]/10 text-[#6667AB] border-none px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium",children:[e.jsx(vs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2"}),"Base Network â€¢ USDC"]})}),e.jsxs(H,{className:"border-blue-200 bg-blue-50",children:[e.jsx(me,{className:"h-4 w-4 text-blue-600"}),e.jsxs(q,{className:"text-blue-800 text-xs sm:text-sm",children:[e.jsx("strong",{children:"Important:"})," Only send USDC on Base network to this address. Sending tokens from other networks may result in loss of funds."]})]})]})]})}function pa(){var T,_,W,Te;const{address:s}=Ee(),{writeContract:f}=ge(),[i,o]=t.useState("kyc"),[n,h]=t.useState(0),[j,k]=t.useState("pending"),[m,F]=t.useState("premium"),[r,w]=t.useState({fullName:"",email:"",phoneNumber:"",panNumber:"",bankAccount:"",ifscCode:"",upiId:""}),[b,v]=t.useState({amount:"",verificationType:"bank",beneficiaryName:""}),[g,Y]=t.useState([{id:"digilocker",title:"Digilocker Aadhaar",description:"Secure document verification via Digilocker",icon:qe,status:"pending"},{id:"pan_advanced",title:"Advanced PAN Verification",description:"PAN card verification with name matching",icon:Ke,status:"pending"},{id:"face_liveness",title:"Face Liveness Detection",description:"Live selfie verification for security",icon:ze,status:"pending"},{id:"bank_advanced",title:"Bank Account Verification",description:"Advanced bank account validation",icon:Pe,status:"pending"},{id:"name_match",title:"Name Matching",description:"Cross-verification of names across documents",icon:Qs,status:"pending"}]),[d,D]=t.useState({}),[y,$]=t.useState([]),[G,I]=t.useState(!1),[E,u]=t.useState(!1),[C,ee]=t.useState(84.5),[se,O]=t.useState(""),[Ie,ie]=t.useState(""),[le,ve]=t.useState(""),we=a=>/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(a),ne=a=>/^[A-Z]{4}0[A-Z0-9]{6}$/.test(a),ye=a=>/^[\w.-]+@[\w.-]+$/.test(a),ue=a=>/^[0-9]{9,20}$/.test(a),c=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),S=a=>/^[6-9]\d{9}$/.test(a),x=(a,l)=>{D(B=>({...B,[a]:l}))},R=a=>{D(l=>{const B={...l};return delete B[a],B})},N=()=>D({});t.useEffect(()=>{s&&(L(),Me())},[s]);const L=async()=>{try{const a=await fetch(`/api/kyc/status/${s}`);if(a.ok){const l=await a.json();k(l.status),l.status==="verified"&&(o("withdrawal"),h(4))}}catch(a){console.error("Error checking KYC status:",a)}},Me=async()=>{try{const a=await fetch("/api/exchange-rate/usd-inr");if(a.ok){const l=await a.json();ee(l.rate)}}catch(a){console.error("Error fetching exchange rate:",a)}},ke=()=>{N();let a=!0;switch(n){case 0:r.fullName.trim()||(x("fullName","Full name is required"),a=!1),r.email.trim()?c(r.email)||(x("email","Invalid email format"),a=!1):(x("email","Email is required"),a=!1),r.phoneNumber.trim()?S(r.phoneNumber)||(x("phoneNumber","Invalid phone number (10 digits starting with 6-9)"),a=!1):(x("phoneNumber","Phone number is required"),a=!1);break;case 1:r.panNumber.trim()?we(r.panNumber)||(x("panNumber","Invalid PAN format (ABCDE1234F)"),a=!1):(x("panNumber","PAN number is required"),a=!1);break;case 2:r.bankAccount&&!ue(r.bankAccount)?(x("bankAccount","Bank account must be 9-20 digits"),a=!1):r.bankAccount&&!r.ifscCode?(x("ifscCode","IFSC code is required with bank account"),a=!1):r.bankAccount&&!ne(r.ifscCode)&&(x("ifscCode","Invalid IFSC code format"),a=!1),r.upiId&&!ye(r.upiId)&&(x("upiId","Invalid UPI ID format"),a=!1),!r.bankAccount&&!r.upiId&&(x("payment","Please provide either bank account details or UPI ID"),a=!1);break}return a},Ye=async()=>{try{const l=await(await fetch("/api/kyc/digilocker/aadhaar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAddress:s})})).json();if(l.success)O(l.consentUrl),ve(l.verificationId),ce("digilocker","in_progress"),window.open(l.consentUrl,"_blank"),$(B=>[...B,"âœ… Digilocker verification initiated. Please complete in the new window."]);else throw new Error(l.error)}catch(a){x("digilocker",a instanceof Error?a.message:"Digilocker initiation failed"),ce("digilocker","failed")}},$e=async()=>{try{const l=await(await fetch("/api/kyc/face/liveness",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAddress:s,verificationId:le})})).json();if(l.success)ie(l.liveness_url),ce("face_liveness","in_progress"),window.open(l.liveness_url,"_blank"),$(B=>[...B,"âœ… Face liveness detection initiated. Please complete in the new window."]);else throw new Error(l.error)}catch(a){x("face_liveness",a instanceof Error?a.message:"Face liveness initiation failed"),ce("face_liveness","failed")}},ce=(a,l,B)=>{Y(Z=>Z.map(K=>K.id===a?{...K,status:l,confidence:B}:K))},_e=async a=>{if(a.preventDefault(),!!ke()){I(!0),N();try{const B=await(await fetch("/api/kyc/comprehensive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAddress:s,fullName:r.fullName,email:r.email,phone:r.phoneNumber,panNumber:r.panNumber,bankAccount:r.bankAccount||void 0,ifscCode:r.ifscCode||void 0,upiId:r.upiId||void 0,verificationLevel:m})})).json();B.success?(B.steps.forEach(Z=>{const K=Z.step,Oe=Z.success?"completed":"failed";ce(K,Oe,Z.confidence)}),B.status==="verified"?(k("verified"),o("withdrawal"),$(Z=>[...Z,"ðŸŽ‰ Comprehensive KYC verification completed successfully!",`ðŸ† Verification confidence: ${B.confidence_score}%`,"ðŸ’° You can now withdraw USDC to INR instantly"])):B.status==="pending"?x("general","KYC verification is under manual review. This may take 24-48 hours."):B.errors&&B.errors.length>0?B.errors.forEach((Z,K)=>{x(`error_${K}`,Z)}):x("general",B.message||"KYC verification failed")):x("general",B.error||"KYC verification failed")}catch(l){console.error("Comprehensive KYC error:",l),x("general","KYC verification failed. Please try again.")}finally{I(!1)}}},Ve=async a=>{if(a.preventDefault(),!b.amount||parseFloat(b.amount)<=0){x("amount","Please enter a valid amount");return}if(!b.beneficiaryName.trim()){x("beneficiaryName","Beneficiary name is required");return}u(!0),N();try{const l=De(b.amount,6);f({address:ae.STABLE_PAY_VAULT,abi:[{name:"withdraw",type:"function",inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],outputs:[{name:"shares",type:"uint256"}]}],functionName:"withdraw",args:[l,s,s]});const B=`0x${Math.random().toString(16).substr(2,64)}`,K=await(await fetch("/api/withdraw/inr/enhanced",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAddress:s,amount:b.amount,txHash:B,verificationType:b.verificationType,bankAccount:b.verificationType==="bank"?r.bankAccount:void 0,ifscCode:b.verificationType==="bank"?r.ifscCode:void 0,upiId:b.verificationType==="upi"?r.upiId:void 0,beneficiaryName:b.beneficiaryName})})).json();K.success?($(Oe=>[...Oe,"ðŸŽ‰ Enhanced INR withdrawal initiated successfully!",`ðŸ’° Amount: â‚¹${K.inrAmount.toLocaleString()}`,`ðŸ“ˆ Exchange Rate: â‚¹${K.exchangeRate}`,`â±ï¸ Estimated Time: ${K.estimatedTime}`,`ðŸ†” Transfer ID: ${K.transferId}`]),v({amount:"",verificationType:"bank",beneficiaryName:""})):x("withdrawal",K.error||"Withdrawal failed")}catch(l){console.error("Enhanced withdrawal error:",l),x("withdrawal","Withdrawal failed. Please try again.")}finally{u(!1)}},Re=g.filter(a=>a.status==="completed").length,We=g.length,p=Re/We*100,A=()=>{ke()&&h(a=>Math.min(a+1,3))},P=()=>{h(a=>Math.max(a-1,0))};return s?e.jsxs("div",{className:"w-full max-w-4xl mx-auto space-y-6",children:[e.jsx(M,{children:e.jsxs(J,{children:[e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-6 w-6 text-[#6667AB]"}),"Comprehensive INR Withdrawal with Enhanced KYC"]}),e.jsx(pe,{children:"Complete advanced KYC verification with Digilocker, face liveness, and instant INR withdrawals"})]})}),e.jsx(M,{children:e.jsx(V,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Verification Progress"}),e.jsx(xe,{variant:j==="verified"?"default":"secondary",children:j==="verified"?"Verified":j==="pending"?"In Progress":"Not Started"})]}),e.jsx(Ys,{value:p,className:"h-2"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:g.map(a=>{const l=a.icon;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1 rounded-full ${a.status==="completed"?"bg-green-100 text-green-600":a.status==="in_progress"?"bg-blue-100 text-blue-600":a.status==="failed"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-400"}`,children:e.jsx(l,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-medium truncate",children:a.title}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:a.description}),a.confidence&&e.jsxs("div",{className:"text-xs text-green-600",children:[a.confidence,"% confidence"]})]})]},a.id)})})]})})}),e.jsxs(os,{value:i,onValueChange:a=>o(a),children:[e.jsxs(ds,{className:"grid w-full grid-cols-2",children:[e.jsxs(fe,{value:"kyc",disabled:j==="verified",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"KYC Verification"]}),e.jsxs(fe,{value:"withdrawal",disabled:j!=="verified",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"INR Withdrawal"]})]}),e.jsx(be,{value:"kyc",children:e.jsxs(M,{children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Comprehensive KYC Verification"}),e.jsx(pe,{children:"Complete all verification steps for enhanced security and instant withdrawals"})]}),e.jsxs(V,{className:"space-y-6",children:[n===0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Personal Information"}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(z,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(X,{id:"fullName",value:r.fullName,onChange:a=>{w(l=>({...l,fullName:a.target.value})),R("fullName")},className:d.fullName?"border-red-300":""}),d.fullName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.fullName})]}),e.jsxs("div",{children:[e.jsx(z,{htmlFor:"email",children:"Email Address *"}),e.jsx(X,{id:"email",type:"email",value:r.email,onChange:a=>{w(l=>({...l,email:a.target.value})),R("email")},className:d.email?"border-red-300":""}),d.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.email})]}),e.jsxs("div",{children:[e.jsx(z,{htmlFor:"phoneNumber",children:"Phone Number *"}),e.jsx(X,{id:"phoneNumber",value:r.phoneNumber,onChange:a=>{w(l=>({...l,phoneNumber:a.target.value})),R("phoneNumber")},className:d.phoneNumber?"border-red-300":""}),d.phoneNumber&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.phoneNumber})]})]})]}),n===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Document Verification"}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(z,{htmlFor:"panNumber",children:"PAN Number *"}),e.jsx(X,{id:"panNumber",placeholder:"ABCDE1234F",value:r.panNumber,onChange:a=>{w(l=>({...l,panNumber:a.target.value.toUpperCase()})),R("panNumber")},className:d.panNumber?"border-red-300":""}),d.panNumber&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.panNumber})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4"}),"Digilocker Aadhaar Verification"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Secure verification through Government of India's Digilocker platform"}),e.jsx(U,{onClick:Ye,variant:"outline",className:"w-full",disabled:((T=g.find(a=>a.id==="digilocker"))==null?void 0:T.status)==="in_progress",children:((_=g.find(a=>a.id==="digilocker"))==null?void 0:_.status)==="in_progress"?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2 animate-spin"}),"Verification in Progress"]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Start Digilocker Verification"]})}),d.digilocker&&e.jsx("p",{className:"text-red-500 text-xs",children:d.digilocker})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4"}),"Face Liveness Detection"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Live selfie verification for enhanced security"}),e.jsx(U,{onClick:$e,variant:"outline",className:"w-full",disabled:((W=g.find(a=>a.id==="face_liveness"))==null?void 0:W.status)==="in_progress"||!le,children:((Te=g.find(a=>a.id==="face_liveness"))==null?void 0:Te.status)==="in_progress"?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2 animate-spin"}),"Liveness Check in Progress"]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Start Face Liveness Check"]})}),d.face_liveness&&e.jsx("p",{className:"text-red-500 text-xs",children:d.face_liveness})]})]})]}),n===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Banking Details"}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Bank Account Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(z,{htmlFor:"bankAccount",children:"Bank Account Number"}),e.jsx(X,{id:"bankAccount",value:r.bankAccount,onChange:a=>{w(l=>({...l,bankAccount:a.target.value})),R("bankAccount"),R("payment")},className:d.bankAccount?"border-red-300":""}),d.bankAccount&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.bankAccount})]}),e.jsxs("div",{children:[e.jsx(z,{htmlFor:"ifscCode",children:"IFSC Code"}),e.jsx(X,{id:"ifscCode",placeholder:"SBIN0001234",value:r.ifscCode,onChange:a=>{w(l=>({...l,ifscCode:a.target.value.toUpperCase()})),R("ifscCode"),R("payment")},className:d.ifscCode?"border-red-300":""}),d.ifscCode&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.ifscCode})]})]})]}),e.jsx("div",{className:"text-center my-4",children:e.jsx("span",{className:"text-sm text-[#6667AB] bg-gray-100 px-3 py-1 rounded-full",children:"OR"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"UPI Details"}),e.jsxs("div",{children:[e.jsx(z,{htmlFor:"upiId",children:"UPI ID"}),e.jsx(X,{id:"upiId",placeholder:"user@paytm",value:r.upiId,onChange:a=>{w(l=>({...l,upiId:a.target.value})),R("upiId"),R("payment")},className:d.upiId?"border-red-300":""}),d.upiId&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.upiId})]})]}),d.payment&&e.jsx("p",{className:"text-red-500 text-xs",children:d.payment})]})]}),n===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Final Verification"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(H,{children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx(q,{children:"Please review your information and complete the comprehensive KYC verification. This process includes advanced security checks and may take a few minutes."})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Verification Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:["Full Name: ",r.fullName]}),e.jsxs("div",{children:["Email: ",r.email]}),e.jsxs("div",{children:["Phone: ",r.phoneNumber]}),e.jsxs("div",{children:["PAN: ",r.panNumber]}),r.bankAccount&&e.jsxs("div",{children:["Bank Account: ***",r.bankAccount.slice(-4)]}),r.upiId&&e.jsxs("div",{children:["UPI ID: ",r.upiId]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Verification Level"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(xe,{variant:m==="premium"?"default":"outline",children:"Premium Verification"}),e.jsx(xe,{variant:"secondary",children:"Includes Digilocker + Face Liveness"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(U,{variant:"outline",onClick:P,disabled:n===0,children:"Previous"}),n<3?e.jsx(U,{onClick:A,children:"Next"}):e.jsx(U,{onClick:_e,disabled:G,className:"bg-[#6667AB] hover:bg-[#5555AB]",children:G?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Complete KYC Verification"]})})]}),Object.keys(d).length>0&&e.jsxs(H,{variant:"destructive",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx(q,{children:e.jsx("div",{className:"space-y-1",children:Object.entries(d).map(([a,l])=>e.jsx("div",{children:l},a))})})]}),y.length>0&&e.jsxs(H,{children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx(q,{children:e.jsx("div",{className:"space-y-1",children:y.map((a,l)=>e.jsx("div",{children:a},l))})})]})]})]})}),e.jsx(be,{value:"withdrawal",children:e.jsxs(M,{children:[e.jsxs(J,{children:[e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(aa,{className:"h-5 w-5 text-green-600"}),"Enhanced INR Withdrawal"]}),e.jsx(pe,{children:"Instant USDC to INR conversion with verified banking details"})]}),e.jsx(V,{children:e.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(z,{htmlFor:"amount",children:"USDC Amount *"}),e.jsx(X,{id:"amount",type:"number",step:"0.01",min:"1",value:b.amount,onChange:a=>{v(l=>({...l,amount:a.target.value})),R("amount")},className:d.amount?"border-red-300":""}),d.amount&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.amount}),b.amount&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["â‰ˆ â‚¹",(parseFloat(b.amount)*C).toLocaleString()," at current rate"]})]}),e.jsxs("div",{children:[e.jsx(z,{htmlFor:"verificationType",children:"Withdrawal Method *"}),e.jsxs("select",{id:"verificationType",value:b.verificationType,onChange:a=>v(l=>({...l,verificationType:a.target.value})),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"bank",children:"Bank Transfer"}),e.jsx("option",{value:"upi",children:"UPI Transfer"})]})]}),e.jsxs("div",{children:[e.jsx(z,{htmlFor:"beneficiaryName",children:"Beneficiary Name *"}),e.jsx(X,{id:"beneficiaryName",value:b.beneficiaryName,onChange:a=>{v(l=>({...l,beneficiaryName:a.target.value})),R("beneficiaryName")},className:d.beneficiaryName?"border-red-300":""}),d.beneficiaryName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.beneficiaryName})]}),e.jsxs(H,{children:[e.jsx(me,{className:"h-4 w-4"}),e.jsxs(q,{children:["Current exchange rate: â‚¹",C," per USDC. Enhanced withdrawals are processed instantly with verified accounts."]})]}),e.jsx(U,{type:"submit",className:"w-full bg-[#6667AB] hover:bg-[#5555AB]",disabled:E,children:E?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing Withdrawal..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Withdraw to INR"]})}),d.withdrawal&&e.jsxs(H,{variant:"destructive",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx(q,{children:d.withdrawal})]})]})})]})})]})]}):e.jsx(M,{className:"w-full max-w-2xl mx-auto",children:e.jsxs(J,{children:[e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Connect Wallet Required"]}),e.jsx(pe,{children:"Please connect your wallet to access INR withdrawal with comprehensive KYC verification"})]})})}function fa(){const{address:s,isConnected:f}=Ee(),[i,o]=t.useState(""),[n,h]=t.useState(1),[j,k]=t.useState(""),[m,F]=t.useState(!1),[r,w]=t.useState(!1),[b,v]=t.useState(""),[g,Y]=t.useState(!0),[d,D]=t.useState(new Date),[y,$]=t.useState(0n),{data:G}=Ns({address:s,token:ae.USDC}),I=p=>p!=null&&p.value?Number(oe(p.value,6)).toFixed(2):"0.00",{data:E}=Ue({address:ae.VAULT,abi:Ae,functionName:"balanceOf",args:s?[s]:void 0}),{data:u}=Ue({address:ae.VAULT,abi:Ae,functionName:"getUserDeposit",args:s?[s]:void 0}),{data:C}=Ue({address:ae.VAULT,abi:Ae,functionName:"getYieldAvailable",args:s?[s]:void 0}),{data:ee}=Ue({address:ae.USDC,abi:na,functionName:"allowance",args:s?[s,ae.VAULT]:void 0}),{data:se}=ge(),{data:O}=ge(),{writeContract:Ie,isPending:ie,data:le}=ge(),{writeContract:ve,data:we}=ge(),{isSuccess:ne}=Se({hash:se}),{isSuccess:ye}=Se({hash:O}),{isSuccess:ue}=Se({hash:le}),{isSuccess:c}=Se({hash:we}),[S,x]=t.useState([]),[R,N]=t.useState(0);t.useEffect(()=>{if(s){const p=localStorage.getItem(`stablepay_deposits_${s}`);if(p)try{const A=JSON.parse(p).map(P=>({...P,depositTime:new Date(P.depositTime),unlockTime:new Date(P.unlockTime)}));x(A),N(A.reduce((P,T)=>P+T.amount,0))}catch(A){console.error("Error parsing stored deposits:",A),x([]),N(0)}else x([]),N(0)}},[s]),t.useEffect(()=>{const p=A=>{if(A.key===`stablepay_deposits_${s}`&&A.newValue)try{const P=JSON.parse(A.newValue).map(T=>({...T,depositTime:new Date(T.depositTime),unlockTime:new Date(T.unlockTime)}));x(P),N(P.reduce((T,_)=>T+_.amount,0))}catch(P){console.error("Error parsing updated deposits:",P)}};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[s]);const L=u?{amount:u[0],lockUntil:u[1],yieldEarned:u[2],isLocked:Number(u[1])*1e3>Date.now(),daysRemaining:Math.max(0,Math.ceil((Number(u[1])*1e3-Date.now())/(1e3*60*60*24)))}:null,Me=()=>(u&&u[0]>0n?Number(oe(u[0],6)):0)+R,ke=()=>S.length>0?S[0]:null;t.useEffect(()=>{(async()=>{if(s)try{const A=await fetch("/api/coinbase/session-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAddress:s})});if(A.ok){const P=await A.json(),T="https://pay.coinbase.com/buy/select-asset",_={appId:"55a219f0-5f88-4931-818a-34bd7d74eff8",sessionToken:P.sessionToken,addresses:{[s]:["base"]},assets:["USDC"],defaultNetwork:"base",defaultAsset:"USDC",defaultAmount:"100",partnerUserId:s,partnerDisplayName:"StablePay Vault Deposit"},W=new URLSearchParams;W.append("appId",_.appId),W.append("sessionToken",P.sessionToken),W.append("addresses",JSON.stringify(_.addresses)),W.append("assets",JSON.stringify(_.assets)),W.append("defaultNetwork",_.defaultNetwork),W.append("defaultAsset",_.defaultAsset),W.append("defaultAmount",_.defaultAmount),v(`${T}?${W.toString()}`)}}catch(A){console.error("Failed to initialize onramp:",A)}})()},[s]);const Ye=[{months:.5,label:"15 Days",apy:7,description:"Short-term liquidity with base returns"},{months:1,label:"1 Month",apy:8,description:"Higher than traditional savings accounts"},{months:2,label:"2 Months",apy:8.5,description:"Beat inflation with stable returns"},{months:3,label:"3 Months",apy:9,description:"Quarterly commitment with solid gains"},{months:4,label:"4 Months",apy:9.5,description:"Extended lock-in for enhanced yield"},{months:5,label:"5 Months",apy:10,description:"Mid-term strategy with growing returns"},{months:6,label:"6 Months",apy:10.5,description:"Semi-annual commitment, substantial APY"},{months:7,label:"7 Months",apy:11,description:"Extended commitment with premium rates"},{months:8,label:"8 Months",apy:11.5,description:"Long-term focus with excellent returns"},{months:9,label:"9 Months",apy:12,description:"Premium lock-in with superior yields"},{months:10,label:"10 Months",apy:12.5,description:"Extended tenure with exceptional rates"},{months:11,label:"11 Months",apy:13,description:"Near-annual commitment, premium APY"},{months:12,label:"12 Months",apy:14,description:"Maximum tenure with highest returns"}];t.useEffect(()=>{const p=()=>{if(!L||!L.amount||L.amount===0n){$(0n);return}const P=Date.now(),T=Math.floor((P-d.getTime())/(1e3*60*60));if(T>0){const _=Ye.find(Z=>Z.months===n),Te=(_?_.apy:7)/100/365/24,l=Number(oe(L.amount,6))*Te*T,B=De(l.toFixed(6),6);$(B),D(new Date)}};p();const A=setInterval(p,60*60*1e3);return()=>clearInterval(A)},[L,n,d]),t.useEffect(()=>{if(!f||!s)return;const p=setInterval(()=>{console.log("Refreshing real-time data...")},3e4);return()=>clearInterval(p)},[f,s]);const $e=async()=>{if(!(!j||!L||!s))try{const p=De(j,6);Ie({address:ae.VAULT,abi:Ae,functionName:"withdraw",args:[p,s,s]})}catch(p){console.error("Withdrawal failed:",p)}},ce=async()=>{ve({address:ae.VAULT,abi:Ae,functionName:"claimYield"})};i&&ee!==void 0&&De(i,6)>ee;const _e=()=>{b&&window.open(b,"_blank","width=500,height=700")},[Ve,Re]=t.useState("invest"),We=p=>`https://basescan.org/address/${p}`;return f?e.jsx("section",{className:"pt-8 pb-4 bg-[#FAF9F6] min-h-screen mobile-optimized safe-area-top",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col space-y-3 mb-4 sm:mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-[#6667AB] to-[#6667AB]/80 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(He,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-black",children:"Welcome to StablePay!"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-sm text-[#6667AB]",children:["Connected: ",s==null?void 0:s.slice(0,8),"...",s==null?void 0:s.slice(-6)]}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"Live connection"})]})]})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-4 items-center w-full sm:w-auto",children:[e.jsxs(U,{onClick:_e,disabled:!b,variant:"payment",size:"payment",className:"flex-1 sm:flex-none fast-button",children:[e.jsx(ta,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Top up USDC"}),e.jsx("span",{className:"sm:hidden",children:"Add USDC"})]}),e.jsxs(U,{onClick:()=>Re("remittance"),variant:"outline",size:"payment",className:"flex-1 sm:flex-none fast-button border-2 border-orange-500 text-orange-700 hover:bg-orange-500 hover:text-white",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"INR Withdrawal"}),e.jsx("span",{className:"sm:hidden",children:"INR"})]}),e.jsxs(U,{onClick:()=>window.location.href="/p2p",variant:"outline",size:"payment",className:"flex-1 sm:flex-none fast-button border-2 border-[#6667AB] text-[#6667AB] hover:bg-[#6667AB] hover:text-white",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"P2P Transfer"}),e.jsx("span",{className:"sm:hidden",children:"P2P"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx(Ge,{})})]})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx(Ge,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-3 lg:gap-6 mb-4 sm:mb-6",children:[e.jsx(M,{className:"bg-white shadow-lg border border-[#6667AB]/20 hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>window.open(`https://basescan.org/address/${s}`,"_blank"),children:e.jsx(V,{className:"p-2 sm:p-3 lg:p-6",children:e.jsxs("div",{className:"flex flex-col space-y-1 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(vs,{className:"w-4 h-4 sm:w-5 sm:h-5 lg:w-8 lg:h-8 text-[#6667AB] flex-shrink-0 group-hover:scale-110 transition-transform"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx(Fe,{className:"w-3 h-3 text-[#6667AB] opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),e.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[e.jsx("p",{className:"text-[9px] sm:text-[10px] lg:text-xs text-[#6667AB] font-medium",children:"USDC Balance"}),e.jsxs("p",{className:"text-xs sm:text-sm lg:text-2xl font-bold text-black leading-tight group-hover:text-[#6667AB] transition-colors",children:["$",I(G)]}),e.jsx("p",{className:"text-[8px] sm:text-[9px] text-[#6667AB]/70",children:"Live â€¢ Base Network"}),e.jsx("p",{className:"text-[7px] sm:text-[8px] text-amber-600 font-medium",children:"Demo Data"})]})]})})}),e.jsx(M,{className:"bg-white shadow-lg border border-[#6667AB]/20 hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:C&&C>0n?ce:void 0,children:e.jsx(V,{className:"p-3 sm:p-4 lg:p-6",children:e.jsxs("div",{className:"flex flex-col space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(He,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 text-[#6667AB] flex-shrink-0 group-hover:scale-110 transition-transform"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),C&&C>0n?e.jsx(te,{className:"w-3 h-3 text-green-500 opacity-0 group-hover:opacity-100 transition-opacity"}):null]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-[#6667AB] font-medium",children:"Yield Available"}),e.jsxs("p",{className:"text-sm sm:text-lg lg:text-2xl font-bold text-[#6667AB] group-hover:text-green-600 transition-colors",children:["$",(()=>{const p=C?Number(oe(C,6)):0,A=y?Number(oe(y,6)):0;return(p+A).toFixed(4)})()]}),e.jsxs("div",{className:"flex items-center gap-2 text-[8px] sm:text-[9px] text-[#6667AB]/70",children:[e.jsx("span",{children:"Updated Hourly"}),C&&C>0n?e.jsx(xe,{variant:"outline",className:"text-[8px] px-1 py-0 border-green-500 text-green-600",children:"Click to Claim"}):null]})]})]})})})]}),e.jsxs(os,{value:Ve,onValueChange:Re,className:"w-full",children:[e.jsxs(ds,{className:"grid w-full grid-cols-4 bg-white border-2 border-[#6667AB]/20 rounded-xl p-1 mb-6 shadow-lg",children:[e.jsxs(fe,{value:"invest",className:"data-[state=active]:bg-[#6667AB] data-[state=active]:text-white text-[#6667AB] hover:bg-[#6667AB]/10 text-xs font-medium rounded-lg py-2 px-1 transition-all duration-300 whitespace-nowrap overflow-hidden",children:[e.jsx("span",{className:"hidden sm:inline",children:"Overview"}),e.jsx("span",{className:"sm:hidden",children:"Home"})]}),e.jsxs(fe,{value:"deposit",className:"data-[state=active]:bg-[#6667AB] data-[state=active]:text-white text-[#6667AB] hover:bg-[#6667AB]/10 text-xs font-medium rounded-lg py-2 px-1 transition-all duration-300 whitespace-nowrap overflow-hidden",children:[e.jsx("span",{className:"hidden sm:inline",children:"Deposit"}),e.jsx("span",{className:"sm:hidden",children:"Add"})]}),e.jsxs(fe,{value:"withdraw",className:"data-[state=active]:bg-[#6667AB] data-[state=active]:text-white text-[#6667AB] hover:bg-[#6667AB]/10 text-xs font-medium rounded-lg py-2 px-1 transition-all duration-300 whitespace-nowrap overflow-hidden",children:[e.jsx("span",{className:"hidden sm:inline",children:"Withdraw"}),e.jsx("span",{className:"sm:hidden",children:"Out"})]}),e.jsxs(fe,{value:"remittance",className:"data-[state=active]:bg-[#6667AB] data-[state=active]:text-white text-[#6667AB] hover:bg-[#6667AB]/10 text-xs font-medium rounded-lg py-2 px-1 transition-all duration-300 whitespace-nowrap overflow-hidden",children:[e.jsx("span",{className:"hidden sm:inline",children:"Remittance"}),e.jsx("span",{className:"sm:hidden",children:"Send"})]})]}),e.jsxs(be,{value:"invest",className:"space-y-4 sm:space-y-6",children:[e.jsx(M,{className:"bg-white shadow-lg border border-[#6667AB]/20 hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>window.open(We(ae.VAULT),"_blank"),children:e.jsx(V,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Je,{className:"w-6 h-6 text-[#6667AB]"}),e.jsx("h3",{className:"text-lg font-semibold text-black",children:"Your StablePay Balance"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse",title:"Real-time data"})]}),e.jsxs("div",{className:"text-3xl sm:text-4xl font-bold text-green-600",children:["$",Me().toFixed(2)," USDC"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(Ne,{className:"w-5 h-5 text-[#6667AB]"})}),e.jsx("p",{className:"text-xs text-[#6667AB] font-medium",children:"Latest Lock Period"}),e.jsx("p",{className:"text-sm font-bold text-black",children:(()=>{const p=ke();if(p)return p.lockMonths===0?"Flexible":`${p.lockMonths} Month${p.lockMonths>1?"s":""}`;if(u&&u[0]>0n){const A=Number(u[1]);if(A*1e3>Date.now()){const T=Date.now()-2592e6,_=A*1e3-T,W=Math.round(_/(30*24*60*60*1e3));return`${W} Month${W>1?"s":""}`}}return"No Deposits"})()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(es,{className:"w-5 h-5 text-[#6667AB]"})}),e.jsx("p",{className:"text-xs text-[#6667AB] font-medium",children:"Latest Unlock Date"}),e.jsx("p",{className:"text-sm font-bold text-black",children:(()=>{const p=ke();if(p)return p.lockMonths===0?"Anytime":p.unlockTime.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"});if(u&&u[0]>0n){const A=Number(u[1]);if(A*1e3>Date.now())return new Date(A*1e3).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"})}return"No Deposits"})()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(Fe,{className:"w-5 h-5 text-[#6667AB]"})}),e.jsx("p",{className:"text-xs text-[#6667AB] font-medium",children:"Total Deposits"}),e.jsxs("p",{className:"text-sm font-bold text-green-600",children:[S.length+(u&&u[0]>0n?1:0)," Transaction",S.length+(u&&u[0]>0n?1:0)!==1?"s":""]})]})]}),e.jsxs(U,{variant:"outline",size:"sm",className:"border-[#6667AB] text-[#6667AB] hover:bg-[#6667AB]/10 mt-4",onClick:p=>{if(p.stopPropagation(),s){const A=localStorage.getItem(`stablepay_deposits_${s}`);if(A){const P=JSON.parse(A).map(T=>({...T,depositTime:new Date(T.depositTime),unlockTime:new Date(T.unlockTime)}));x(P),N(P.reduce((T,_)=>T+_.amount,0))}}},children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Refresh Balance"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:e.jsx(ua,{})})]}),e.jsx(be,{value:"deposit",className:"space-y-4 sm:space-y-6",children:e.jsx(ha,{})}),e.jsx(be,{value:"withdraw",className:"space-y-6",children:e.jsxs(M,{className:"bg-white shadow-lg border border-[#6667AB]/20",children:[e.jsxs(J,{children:[e.jsx(Q,{className:"text-xl text-black",children:"Withdraw USDC"}),e.jsx("p",{className:"text-sm text-[#6667AB]",children:"Withdraw your unlocked USDC deposits"})]}),e.jsx(V,{className:"space-y-6",children:L!=null&&L.isLocked?e.jsxs(H,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Ne,{className:"h-4 w-4 text-[#6667AB]"}),e.jsxs(q,{className:"text-[#6667AB]",children:["Your deposit is locked for ",L.daysRemaining," more days. You can withdraw after ",new Date(Number(L.lockUntil)*1e3).toLocaleDateString(),"."]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{htmlFor:"withdraw-amount",children:"Amount (USDC)"}),e.jsx(X,{id:"withdraw-amount",type:"number",placeholder:"0.00",value:j,onChange:p=>k(p.target.value),className:"text-xl font-bold h-12"}),e.jsx("div",{className:"flex justify-between text-sm text-[#6667AB]",children:e.jsxs("span",{children:["Available: ",L?Number(oe(L.amount,6)).toFixed(2):"0.00"," USDC"]})})]}),e.jsxs(U,{onClick:$e,disabled:!j||ie||!L,className:"w-full bg-[#6667AB] hover:bg-[#6667AB]/90",children:[ie?e.jsx(de,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(sa,{className:"w-4 h-4 mr-2"}),"Withdraw USDC"]}),ue&&e.jsxs(H,{className:"border-[#6667AB]/20 bg-[#6667AB]/5",children:[e.jsx(te,{className:"h-4 w-4 text-[#6667AB]"}),e.jsx(q,{className:"text-[#6667AB]",children:"Withdrawal successful! USDC has been transferred to your wallet."})]})]})})]})}),e.jsxs(be,{value:"remittance",className:"space-y-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(M,{className:"bg-white shadow-lg border border-[#6667AB]/20 rounded-2xl overflow-hidden",children:[e.jsx(J,{className:"bg-gradient-to-r from-[#6667AB]/5 to-[#6667AB]/10 pb-6 pt-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-[#6667AB] rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(Pe,{className:"w-8 h-8 text-white"})}),e.jsx(Q,{className:"text-3xl text-black font-bold mb-2",children:"INR Bank Withdrawal"}),e.jsx("p",{className:"text-[#6667AB] text-lg max-w-md mx-auto",children:"KYC verified withdrawals directly to Indian bank accounts with real-time exchange rates"})]})}),e.jsx(V,{className:"p-8",children:e.jsx(pa,{})})]}),e.jsxs(M,{className:"bg-white shadow-lg border border-[#6667AB]/20",children:[e.jsxs(J,{className:"pb-4",children:[e.jsxs(Q,{className:"text-2xl text-black flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#6667AB] rounded-full flex items-center justify-center",children:e.jsx(js,{className:"w-5 h-5 text-white"})}),"Live Exchange Calculator"]}),e.jsx("p",{className:"text-[#6667AB] ml-13",children:"Calculate costs with real-time exchange rates"})]}),e.jsx(V,{children:e.jsx(ra,{embedded:!0})})]}),e.jsxs(M,{className:"bg-white shadow-lg border border-[#6667AB]/20",children:[e.jsxs(J,{className:"pb-4",children:[e.jsxs(Q,{className:"text-2xl text-black flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#6667AB] rounded-full flex items-center justify-center",children:e.jsx(je,{className:"w-5 h-5 text-white"})}),"P2P USDC Transfer"]}),e.jsx("p",{className:"text-[#6667AB] ml-13",children:"Direct wallet-to-wallet transfers on Base network"})]}),e.jsx(V,{children:e.jsx($s,{})})]})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#6667AB]/5 rounded-full",children:[e.jsx(he,{className:"w-4 h-4 text-[#6667AB]"}),e.jsx("span",{className:"text-sm text-[#6667AB] font-medium",children:"FIU(Financial Intelligence Unit)-India Registered â€¢ FEMA Compliant"})]})})]})]})]})}):e.jsx("section",{className:"min-h-screen flex items-center justify-center bg-[#FAF9F6] px-4",children:e.jsx("div",{className:"w-full max-w-lg mx-auto",children:e.jsx(M,{className:"bg-white shadow-2xl border border-[#6667AB]/10 rounded-3xl overflow-hidden",children:e.jsxs(V,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-[#6667AB] rounded-2xl flex items-center justify-center mx-auto mb-8 shadow-lg",children:e.jsx(he,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-black mb-4",children:"Connect Your Base Wallet"}),e.jsx("p",{className:"text-[#6667AB] text-lg mb-8 leading-relaxed",children:"Connect your Base smart wallet to access your investment dashboard and track your up to 14% APY returns."}),e.jsx("div",{className:"mb-8",children:e.jsx(Ge,{})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 text-sm text-[#6667AB]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Self-custodial"})]}),e.jsx("div",{className:"w-1 h-1 bg-[#6667AB]/40 rounded-full"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"FIU(Financial Intelligence Unit)-India Registered Compliant"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-[#6667AB]",children:[e.jsx(te,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"FEMA Reporting"})]})]}),e.jsxs("div",{className:"bg-[#6667AB]/5 rounded-2xl p-6 text-left",children:[e.jsx("h3",{className:"font-semibold text-black mb-4 text-center",children:"What you'll get access to:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(He,{className:"w-5 h-5 text-[#6667AB] flex-shrink-0"}),e.jsx("span",{className:"text-sm text-[#6667AB]",children:"Progressive APY up to 14% on USDC deposits"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Zs,{className:"w-5 h-5 text-[#6667AB] flex-shrink-0"}),e.jsx("span",{className:"text-sm text-[#6667AB]",children:"Real-time yield tracking and withdrawals"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pe,{className:"w-5 h-5 text-[#6667AB] flex-shrink-0"}),e.jsx("span",{className:"text-sm text-[#6667AB]",children:"KYC-verified INR bank withdrawals"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(je,{className:"w-5 h-5 text-[#6667AB] flex-shrink-0"}),e.jsx("span",{className:"text-sm text-[#6667AB]",children:"P2P USDC transfers and remittance"})]})]})]})]})})})})}function Wa(){return e.jsxs("div",{className:"min-h-screen bg-[#FAF9F6]",children:[e.jsx(Ls,{}),e.jsx(fa,{})]})}export{Wa as default};
